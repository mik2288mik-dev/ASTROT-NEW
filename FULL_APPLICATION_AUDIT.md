# üîç –ü–û–õ–ù–´–ô –ê–£–î–ò–¢ –ê–°–¢–†–û–õ–û–ì–ò–ß–ï–°–ö–û–ì–û –ü–†–ò–õ–û–ñ–ï–ù–ò–Ø

**–î–∞—Ç–∞ –∞—É–¥–∏—Ç–∞:** 18 –¥–µ–∫–∞–±—Ä—è 2025  
**–í–µ—Ä—Å–∏—è:** Current production  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

---

## üìã –û–ì–õ–ê–í–õ–ï–ù–ò–ï

1. [–û–±—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](#–æ–±—â–∞—è-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
2. [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞](#—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–æ–µ–∫—Ç–∞)
3. [–ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö](#–ø–æ—Ç–æ–∫-–¥–∞–Ω–Ω—ã—Ö)
4. [–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö](#–±–∞–∑–∞-–¥–∞–Ω–Ω—ã—Ö)
5. [API endpoints](#api-endpoints)
6. [–§—Ä–æ–Ω—Ç–µ–Ω–¥ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã](#—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã)
7. [–°–µ—Ä–≤–∏—Å—ã](#—Å–µ—Ä–≤–∏—Å—ã)
8. [–°–∏—Å—Ç–µ–º–∞ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è](#—Å–∏—Å—Ç–µ–º–∞-–∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è)
9. [–ü—Ä–æ–±–ª–µ–º—ã –∏ —Ä–∏—Å–∫–∏](#–ø—Ä–æ–±–ª–µ–º—ã-–∏-—Ä–∏—Å–∫–∏)
10. [–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏](#—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏)

---

## üèóÔ∏è –û–ë–©–ê–Ø –ê–†–•–ò–¢–ï–ö–¢–£–†–ê

### –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

**Frontend:**
- Next.js 15.1.0 (React 19.2.0)
- TypeScript 5.8.2
- Tailwind CSS 3.4.0
- Framer Motion 12.23.24 (–∞–Ω–∏–º–∞—Ü–∏–∏)

**Backend:**
- Next.js API Routes
- PostgreSQL (Railway Database)
- Swiss Ephemeris v2 (–∞—Å—Ç—Ä–æ–Ω–æ–º–∏—á–µ—Å–∫–∏–µ —Ä–∞—Å—á–µ—Ç—ã)
- OpenAI GPT-4 (–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞)

**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:**
- Telegram WebApp (–æ—Å–Ω–æ–≤–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞)
- Telegram Stars (–ø–ª–∞—Ç–µ–∂–∏)
- OpenStreetMap Nominatim (–≥–µ–æ–∫–æ–¥–∏–Ω–≥)
- WeatherAPI.com (–ø–æ–≥–æ–¥–∞)

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **—Ç—Ä–µ—Ö—É—Ä–æ–≤–Ω–µ–≤—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É**:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ           PRESENTATION LAYER            ‚îÇ
‚îÇ  (React Components + Views + App.tsx)   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                   ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ          APPLICATION LAYER              ‚îÇ
‚îÇ  (Services + Content Generation + AI)   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                   ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ            DATA LAYER                   ‚îÇ
‚îÇ  (PostgreSQL + API Routes + Swiss Eph)  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üìÅ –°–¢–†–£–ö–¢–£–†–ê –ü–†–û–ï–ö–¢–ê

### –î–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –≤–µ—Ä—Ö–Ω–µ–≥–æ —É—Ä–æ–≤–Ω—è

```
/workspace/
‚îú‚îÄ‚îÄ pages/              # Next.js —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏ API routes
‚îÇ   ‚îú‚îÄ‚îÄ api/           # Backend API endpoints
‚îÇ   ‚îú‚îÄ‚îÄ index.tsx      # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (‚Üí App.tsx)
‚îÇ   ‚îú‚îÄ‚îÄ _app.tsx       # Next.js app wrapper
‚îÇ   ‚îî‚îÄ‚îÄ _document.tsx  # HTML document wrapper
‚îÇ
‚îú‚îÄ‚îÄ views/             # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å—Ç—Ä–∞–Ω–∏—Ü (—ç–∫—Ä–∞–Ω—ã)
‚îÇ   ‚îú‚îÄ‚îÄ Onboarding.tsx     # –§–æ—Ä–º–∞ –≤–≤–æ–¥–∞ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ HookChat.tsx       # –ü–µ—Ä–≤—ã–π –ø–æ–∫–∞–∑ "–¢—Ä–µ—Ö –∫–ª—é—á–µ–π"
‚îÇ   ‚îú‚îÄ‚îÄ Dashboard.tsx      # –ì–ª–∞–≤–Ω—ã–π —Ö–∞–±
‚îÇ   ‚îú‚îÄ‚îÄ NatalChart.tsx     # –ù–∞—Ç–∞–ª—å–Ω–∞—è –∫–∞—Ä—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ Horoscope.tsx      # –ì–æ—Ä–æ—Å–∫–æ–ø—ã
‚îÇ   ‚îú‚îÄ‚îÄ Synastry.tsx       # –°–∏–Ω–∞—Å—Ç—Ä–∏—è (—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å)
‚îÇ   ‚îú‚îÄ‚îÄ OracleChat.tsx     # –ß–∞—Ç —Å AI –∞—Å—Ç—Ä–æ–ª–æ–≥–æ–º
‚îÇ   ‚îú‚îÄ‚îÄ Paywall.tsx        # –≠–∫—Ä–∞–Ω –æ–ø–ª–∞—Ç—ã –ø—Ä–µ–º–∏—É–º
‚îÇ   ‚îú‚îÄ‚îÄ Settings.tsx       # –ù–∞—Å—Ç—Ä–æ–π–∫–∏
‚îÇ   ‚îî‚îÄ‚îÄ AdminPanel.tsx     # –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å
‚îÇ
‚îú‚îÄ‚îÄ components/        # –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ Header.tsx
‚îÇ   ‚îú‚îÄ‚îÄ Dashboard/     # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è Dashboard
‚îÇ   ‚îú‚îÄ‚îÄ Horoscope/     # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è Horoscope
‚îÇ   ‚îú‚îÄ‚îÄ NatalChart/    # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è NatalChart
‚îÇ   ‚îú‚îÄ‚îÄ ui/           # –ë–∞–∑–æ–≤—ã–µ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ
‚îú‚îÄ‚îÄ services/         # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ (—Å–µ—Ä–≤–∏—Å–Ω—ã–π —Å–ª–æ–π)
‚îÇ   ‚îú‚îÄ‚îÄ astrologyService.ts        # API –≤—ã–∑–æ–≤—ã –¥–ª—è –∞—Å—Ç—Ä–æ–ª–æ–≥–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ contentGenerationService.ts # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º
‚îÇ   ‚îú‚îÄ‚îÄ contextService.ts          # –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ storageService.ts          # –†–∞–±–æ—Ç–∞ —Å –ë–î —á–µ—Ä–µ–∑ API
‚îÇ   ‚îî‚îÄ‚îÄ telegramService.ts         # Telegram –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
‚îÇ
‚îú‚îÄ‚îÄ lib/              # –£—Ç–∏–ª–∏—Ç—ã –∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ db.ts                    # –ü—Ä—è–º–∞—è —Ä–∞–±–æ—Ç–∞ —Å PostgreSQL
‚îÇ   ‚îú‚îÄ‚îÄ swisseph-calculator.ts   # –ê—Å—Ç—Ä–æ–Ω–æ–º–∏—á–µ—Å–∫–∏–µ —Ä–∞—Å—á–µ—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ validation.ts            # –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ zodiac-utils.ts          # –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è –∑–Ω–∞–∫–æ–≤ –∑–æ–¥–∏–∞–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ prompts.ts              # AI –ø—Ä–æ–º–ø—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ migrations.ts           # –ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î
‚îÇ   ‚îú‚îÄ‚îÄ cache.ts               # –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ
‚îú‚îÄ‚îÄ types/           # TypeScript —Ç–∏–ø—ã
‚îú‚îÄ‚îÄ types.ts         # –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∏–ø—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ constants.ts     # –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∏ –ø–µ—Ä–µ–≤–æ–¥—ã
‚îú‚îÄ‚îÄ App.tsx         # –ì–ª–∞–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îî‚îÄ‚îÄ ephe/           # Swiss Ephemeris —Ñ–∞–π–ª—ã —ç—Ñ–µ–º–µ—Ä–∏–¥
```

---

## üîÑ –ü–û–¢–û–ö –î–ê–ù–ù–´–•

### 1. –ü–µ—Ä–≤—ã–π –≤—Ö–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

```
User Input (Onboarding)
    ‚Üì
App.tsx ‚Üí handleOnboardingComplete()
    ‚Üì
calculateNatalChart(profile) ‚Üí API /api/astrology/natal-chart
    ‚Üì (Swiss Ephemeris)
Natal Chart Data
    ‚Üì
generateAllContent(profile, chart) ‚Üí Multiple API calls
    ‚îú‚îÄ‚Üí /api/astrology/three-keys (GPT-4)
    ‚îú‚îÄ‚Üí /api/astrology/daily-horoscope (GPT-4)
    ‚îî‚îÄ‚Üí /api/astrology/deep-dive x5 (GPT-4)
    ‚Üì
Save to DB (users.generated_content + charts table)
    ‚Üì
Show HookChat ‚Üí Dashboard
```

**–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ API –∑–∞–ø—Ä–æ—Å–æ–≤ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –≤—Ö–æ–¥–µ:**
- 1x Swiss Ephemeris (natal chart)
- 1x OpenAI (three keys)
- 1x OpenAI (daily horoscope)
- 5x OpenAI (deep dive: personality, love, career, weakness, karma)
- **–ò—Ç–æ–≥–æ: ~7-8 –∑–∞–ø—Ä–æ—Å–æ–≤**

### 2. –ü–æ–≤—Ç–æ—Ä–Ω—ã–π –≤—Ö–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

```
App.tsx ‚Üí useEffect (loadData)
    ‚Üì
getProfile() ‚Üí API /api/users/[id]
    ‚Üì
getChartData() ‚Üí API /api/charts/[id]
    ‚Üì
Load from PostgreSQL (users + charts tables)
    ‚Üì
Check generatedContent cache
    ‚îú‚îÄ‚Üí Has threeKeys? ‚úì
    ‚îú‚îÄ‚Üí Has dailyHoroscope? ‚úì
    ‚îú‚îÄ‚Üí Has deepDive? ‚úì
    ‚îî‚îÄ‚Üí Use cache (NO new API calls)
    ‚Üì
Show Dashboard
```

**–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ API –∑–∞–ø—Ä–æ—Å–æ–≤ –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –≤—Ö–æ–¥–µ:**
- 0x OpenAI (–≤—Å–µ –∏–∑ –∫—ç—à–∞)
- **–ò—Ç–æ–≥–æ: 0 –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ AI**

### 3. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–Ω–µ–≤–Ω–æ–≥–æ –≥–æ—Ä–æ—Å–∫–æ–ø–∞

```
Dashboard.tsx ‚Üí useEffect
    ‚Üì
Check dailyHoroscope.date === today?
    ‚îú‚îÄ‚Üí YES: Use cache (NO API call)
    ‚îî‚îÄ‚Üí NO: Call getOrGenerateHoroscope()
        ‚Üì
    API /api/astrology/daily-horoscope
        ‚îú‚îÄ‚Üí Check daily_horoscopes_cache by zodiac sign + date
        ‚îú‚îÄ‚Üí If cached: return (NO OpenAI call)
        ‚îî‚îÄ‚Üí If not cached: generate (1x OpenAI) + cache for all users
```

**–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:** –ì–æ—Ä–æ—Å–∫–æ–ø –ø–æ –∑–Ω–∞–∫—É –∑–æ–¥–∏–∞–∫–∞ –∫—ç—à–∏—Ä—É–µ—Ç—Å—è –≥–ª–æ–±–∞–ª—å–Ω–æ - –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –≤ –¥–µ–Ω—å –¥–ª—è –≤—Å–µ—Ö –û–≤–Ω–æ–≤, –æ–¥–∏–Ω —Ä–∞–∑ –¥–ª—è –≤—Å–µ—Ö –¢–µ–ª—å—Ü–æ–≤, –∏ —Ç.–¥.

---

## üíæ –ë–ê–ó–ê –î–ê–ù–ù–´–•

### –°—Ö–µ–º–∞ PostgreSQL

#### –¢–∞–±–ª–∏—Ü–∞ `users`
```sql
CREATE TABLE users (
  id VARCHAR(255) PRIMARY KEY,           -- Telegram user ID
  name VARCHAR(255),
  birth_date VARCHAR(50),
  birth_time VARCHAR(50),
  birth_place VARCHAR(255),
  is_setup BOOLEAN DEFAULT false,
  language VARCHAR(10) DEFAULT 'ru',     -- 'ru' | 'en'
  theme VARCHAR(10) DEFAULT 'dark',      -- 'dark' | 'light'
  is_premium BOOLEAN DEFAULT false,
  is_admin BOOLEAN DEFAULT false,
  
  -- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (JSON)
  three_keys JSONB,                      -- –¢—Ä–∏ –∫–ª—é—á–∞ (–¥—É–±–ª–∏—Ä—É–µ—Ç—Å—è –≤ generated_content)
  evolution JSONB,                       -- –≠–≤–æ–ª—é—Ü–∏—è –¥—É—à–∏
  generated_content JSONB,               -- –í–°–Å —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ AI (–æ—Å–Ω–æ–≤–Ω–æ–π –∫—ç—à)
  weather_city VARCHAR(255),             -- –ì–æ—Ä–æ–¥ –¥–ª—è –ø–æ–≥–æ–¥—ã
  
  -- –ö—ç—à –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Ç–µ–∫—Å—Ç–æ–≤ (—É—Å—Ç–∞—Ä–µ–≤—à–µ–µ, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è generated_content)
  three_keys_text JSONB,
  three_keys_updated_at TIMESTAMP,
  natal_summary TEXT,
  natal_summary_updated_at TIMESTAMP,
  full_natal TEXT,
  full_natal_updated_at TIMESTAMP,
  
  -- –ü–ª–∞—Ç–µ–∂–∏
  stars_balance INTEGER DEFAULT 0,
  premium_activated_at TIMESTAMP,
  premium_stars_amount INTEGER,
  premium_transaction_id VARCHAR(255),
  
  -- –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

#### –¢–∞–±–ª–∏—Ü–∞ `charts`
```sql
CREATE TABLE charts (
  user_id VARCHAR(255) PRIMARY KEY,
  chart_data JSONB NOT NULL,            -- –ù–∞—Ç–∞–ª—å–Ω–∞—è –∫–∞—Ä—Ç–∞ (Swiss Ephemeris result)
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE
);
```

#### –¢–∞–±–ª–∏—Ü–∞ `daily_horoscopes_cache`
```sql
CREATE TABLE daily_horoscopes_cache (
  id SERIAL PRIMARY KEY,
  zodiac_sign VARCHAR(20) NOT NULL,     -- 'Aries', 'Taurus', ...
  date DATE NOT NULL,                   -- –î–∞—Ç–∞ –≥–æ—Ä–æ—Å–∫–æ–ø–∞
  horoscope_data JSONB NOT NULL,        -- –î–∞–Ω–Ω—ã–µ –≥–æ—Ä–æ—Å–∫–æ–ø–∞
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  UNIQUE(zodiac_sign, date)
);
```

#### –¢–∞–±–ª–∏—Ü–∞ `synastry_cache`
```sql
CREATE TABLE synastry_cache (
  id SERIAL PRIMARY KEY,
  user_id VARCHAR(255) NOT NULL,
  partner_data JSONB NOT NULL,          -- –î–∞–Ω–Ω—ã–µ –ø–∞—Ä—Ç–Ω–µ—Ä–∞ (–¥–ª—è –∫–ª—é—á–∞)
  brief_analysis TEXT,                  -- –ö—Ä–∞—Ç–∫–∞—è —Å–∏–Ω–∞—Å—Ç—Ä–∏—è (–±–µ—Å–ø–ª–∞—Ç–Ω–∞—è)
  full_analysis TEXT,                   -- –ü–æ–ª–Ω–∞—è —Å–∏–Ω–∞—Å—Ç—Ä–∏—è (–ø—Ä–µ–º–∏—É–º)
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE
);
```

#### –¢–∞–±–ª–∏—Ü–∞ `forecasts_cache`
```sql
CREATE TABLE forecasts_cache (
  id SERIAL PRIMARY KEY,
  user_id VARCHAR(255) NOT NULL,
  period_type VARCHAR(20) NOT NULL,     -- 'day' | 'week' | 'month'
  period_date DATE NOT NULL,
  content JSONB NOT NULL,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE,
  UNIQUE(user_id, period_type, period_date)
);
```

#### –¢–∞–±–ª–∏—Ü–∞ `regenerations`
```sql
CREATE TABLE regenerations (
  id SERIAL PRIMARY KEY,
  user_id VARCHAR(255) NOT NULL,
  content_type VARCHAR(50) NOT NULL,    -- 'three_keys' | 'natal_summary' | ...
  regeneration_date DATE NOT NULL,
  was_paid BOOLEAN DEFAULT false,       -- –ü–ª–∞—Ç–Ω–∞—è —Ä–µ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è?
  stars_cost INTEGER DEFAULT 0,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE
);
```

#### –¢–∞–±–ª–∏—Ü–∞ `migrations`
```sql
CREATE TABLE migrations (
  id SERIAL PRIMARY KEY,
  name VARCHAR(255) UNIQUE NOT NULL,
  applied_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

### –ú–∏–≥—Ä–∞—Ü–∏–∏

**–ü–æ—Ä—è–¥–æ–∫ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è:**
1. `001_create_users_table` - –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã users
2. `002_create_charts_table` - –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã charts
3. `003_create_indexes` - –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
4. `004_add_cached_texts` - –ö—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ–∫—Å—Ç—ã
5. `005_create_synastry_cache` - –ö—ç—à —Å–∏–Ω–∞—Å—Ç—Ä–∏–π
6. `006_create_forecasts_cache` - –ö—ç—à –ø—Ä–æ–≥–Ω–æ–∑–æ–≤
7. `007_create_regenerations_tracking` - –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Ä–µ–≥–µ–Ω–µ—Ä–∞—Ü–∏–π
8. `008_add_generated_content` - –ü–æ–ª–µ generated_content (–æ—Å–Ω–æ–≤–Ω–æ–π –∫—ç—à)
9. `009_add_weather_city` - –ì–æ—Ä–æ–¥ –¥–ª—è –ø–æ–≥–æ–¥—ã
10. `010_create_daily_horoscopes_cache` - –ì–ª–æ–±–∞–ª—å–Ω—ã–π –∫—ç—à –≥–æ—Ä–æ—Å–∫–æ–ø–æ–≤

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫:**
- –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—Ä–æ—Å–µ –∫ `/api/health` (–µ—Å–ª–∏ —Ç–∞–±–ª–∏—Ü –Ω–µ—Ç)
- –ß–µ—Ä–µ–∑ endpoint `/api/migrations/run`

---

## üîå API ENDPOINTS

### –°–∏—Å—Ç–µ–º–Ω—ã–µ

#### `GET /api/health`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ + –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ –º–∏–≥—Ä–∞—Ü–∏–π

**–û—Ç–≤–µ—Ç:**
```json
{
  "status": "ok",
  "timestamp": "2025-12-18T...",
  "database": {
    "connected": true,
    "tablesExist": true,
    "migrationsRun": true
  }
}
```

#### `GET|POST /api/migrations/run`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ –º–∏–≥—Ä–∞—Ü–∏–π

---

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏

#### `GET /api/users/[id]`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**–û—Ç–≤–µ—Ç:**
```typescript
{
  id: string,
  name: string,
  birthDate: string,
  birthTime: string,
  birthPlace: string,
  isSetup: boolean,
  language: 'ru' | 'en',
  theme: 'dark' | 'light',
  isPremium: boolean,
  isAdmin: boolean,
  threeKeys?: ThreeKeys,
  evolution?: UserEvolution,
  generatedContent?: UserGeneratedContent,
  weatherCity?: string
}
```

#### `POST /api/users/[id]`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –°–æ–∑–¥–∞—Ç—å/–æ–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:** –¢–æ –∂–µ —á—Ç–æ –æ—Ç–≤–µ—Ç GET

**–í–∞–∂–Ω–æ:** –ü—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ (–Ω–µ –∑–∞—Ç–∏—Ä–∞–µ—Ç)

#### `GET /api/users`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–æ–≤)

---

### –ù–∞—Ç–∞–ª—å–Ω—ã–µ –∫–∞—Ä—Ç—ã

#### `POST /api/astrology/natal-chart`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –†–∞—Å—Å—á–∏—Ç–∞—Ç—å –Ω–∞—Ç–∞–ª—å–Ω—É—é –∫–∞—Ä—Ç—É —á–µ—Ä–µ–∑ Swiss Ephemeris

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```typescript
{
  name: string,
  birthDate: string,     // YYYY-MM-DD
  birthTime: string,     // HH:MM
  birthPlace: string,    // "Moscow, Russia"
  language?: 'ru' | 'en'
}
```

**–û—Ç–≤–µ—Ç:**
```typescript
{
  sun: PlanetPosition,
  moon: PlanetPosition,
  rising: PlanetPosition,
  mercury: PlanetPosition | null,
  venus: PlanetPosition | null,
  mars: PlanetPosition | null,
  element: string,        // 'Fire' | 'Water' | 'Air' | 'Earth'
  rulingPlanet: string,
  summary: string
}
```

**–õ–æ–≥–∏–∫–∞:**
1. –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
2. –ì–µ–æ–∫–æ–¥–∏–Ω–≥ –º–µ—Å—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è (OpenStreetMap Nominatim)
3. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —á–∞—Å–æ–≤–æ–≥–æ –ø–æ—è—Å–∞ (tz-lookup)
4. –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –≤ UTC
5. –†–∞—Å—á–µ—Ç Julian Day
6. –†–∞—Å—á–µ—Ç –ø–æ–∑–∏—Ü–∏–π –ø–ª–∞–Ω–µ—Ç (Swiss Ephemeris)
7. –†–∞—Å—á–µ—Ç –ê—Å—Ü–µ–Ω–¥–µ–Ω—Ç–∞
8. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞ –∏ —É–ø—Ä–∞–≤–ª—è—é—â–µ–π –ø–ª–∞–Ω–µ—Ç—ã

**–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ:** –†–µ–∑—É–ª—å—Ç–∞—Ç –∫—ç—à–∏—Ä—É–µ—Ç—Å—è –≤ —Ç–∞–±–ª–∏—Ü–µ `charts` –Ω–∞–≤—Å–µ–≥–¥–∞ (–Ω–µ –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è)

---

### –¢—Ä–∏ –∫–ª—é—á–∞

#### `POST /api/astrology/three-keys`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ì–µ–Ω–µ—Ä–∞—Ü–∏—è "–¢—Ä–µ—Ö –∫–ª—é—á–µ–π" —á–µ—Ä–µ–∑ GPT-4

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```typescript
{
  profile: UserProfile,
  chartData: NatalChartData
}
```

**–û—Ç–≤–µ—Ç:**
```typescript
{
  key1: {
    title: "–¢–í–û–Ø –≠–ù–ï–†–ì–ò–Ø",
    text: string,
    advice: string[]
  },
  key2: {
    title: "–¢–í–û–ô –°–¢–ò–õ–¨ –õ–Æ–ë–í–ò",
    text: string,
    advice: string[]
  },
  key3: {
    title: "–¢–í–û–Ø –ö–ê–†–¨–ï–†–ê",
    text: string,
    advice: string[]
  }
}
```

**–õ–æ–≥–∏–∫–∞:**
1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫—ç—à–∞ –≤ `users.three_keys_text`
2. –ï—Å–ª–∏ –Ω–µ—Ç –∫—ç—à–∞ ‚Üí –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ OpenAI GPT-4
3. Fallback: –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —à–∞–±–ª–æ–Ω—ã (–µ—Å–ª–∏ OpenAI –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω)
4. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î

**–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ:** –û–¥–∏–Ω —Ä–∞–∑ –Ω–∞–≤—Å–µ–≥–¥–∞ (–Ω–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)

---

### –ì–æ—Ä–æ—Å–∫–æ–ø—ã

#### `POST /api/astrology/daily-horoscope`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –î–Ω–µ–≤–Ω–æ–π –≥–æ—Ä–æ—Å–∫–æ–ø

**–õ–æ–≥–∏–∫–∞:**
1. –ü–æ–ª—É—á–µ–Ω–∏–µ –∑–Ω–∞–∫–∞ –∑–æ–¥–∏–∞–∫–∞ –∏–∑ –Ω–∞—Ç–∞–ª—å–Ω–æ–π –∫–∞—Ä—Ç—ã
2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫—ç—à–∞ –≤ `daily_horoscopes_cache` –ø–æ –∑–Ω–∞–∫—É + –¥–∞—Ç–∞
3. –ï—Å–ª–∏ –Ω–µ—Ç –∫—ç—à–∞ ‚Üí –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ OpenAI
4. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –≥–ª–æ–±–∞–ª—å–Ω—ã–π –∫—ç—à (–¥–ª—è –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —ç—Ç–æ–≥–æ –∑–Ω–∞–∫–∞)

**–û—Ç–≤–µ—Ç:**
```typescript
{
  date: string,
  mood: string,
  color: string,
  number: number,
  content: string,
  moonImpact?: string,
  transitFocus?: string
}
```

#### `POST /api/astrology/weekly-horoscope`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ù–µ–¥–µ–ª—å–Ω—ã–π –≥–æ—Ä–æ—Å–∫–æ–ø

#### `POST /api/astrology/monthly-horoscope`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ú–µ—Å—è—á–Ω—ã–π –≥–æ—Ä–æ—Å–∫–æ–ø

---

### –°–∏–Ω–∞—Å—Ç—Ä–∏—è (—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å)

#### `POST /api/astrology/synastry-brief`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ö—Ä–∞—Ç–∫–∞—è —Å–∏–Ω–∞—Å—Ç—Ä–∏—è (–±–µ—Å–ø–ª–∞—Ç–Ω–∞—è)

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```typescript
{
  profile: UserProfile,
  partnerName: string,
  partnerDate: string,
  partnerTime?: string,
  partnerPlace?: string,
  language?: 'ru' | 'en',
  relationshipType?: string
}
```

**–û—Ç–≤–µ—Ç:**
```typescript
{
  briefOverview: {
    introduction: string,
    harmony: string,
    challenges: string,
    tips: string[]
  },
  summary: string
}
```

#### `POST /api/astrology/synastry-full`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü–æ–ª–Ω–∞—è —Å–∏–Ω–∞—Å—Ç—Ä–∏—è (–ø—Ä–µ–º–∏—É–º)

**–û—Ç–≤–µ—Ç:**
```typescript
{
  fullAnalysis: {
    generalTheme: string,
    attraction: string,
    difficulties: string,
    recommendations: string[],
    potential: string
  },
  summary: string
}
```

---

### Deep Dive

#### `POST /api/astrology/deep-dive`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ì–ª—É–±–æ–∫–∏–π –∞–Ω–∞–ª–∏–∑ –ø–æ —Ç–µ–º–µ

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```typescript
{
  profile: UserProfile,
  topic: string,          // "–õ–∏—á–Ω–æ—Å—Ç—å" | "–õ—é–±–æ–≤—å" | "–ö–∞—Ä—å–µ—Ä–∞" | ...
  chartData: NatalChartData
}
```

**–û—Ç–≤–µ—Ç:**
```typescript
{
  analysis: string        // Markdown —Ç–µ–∫—Å—Ç –∞–Ω–∞–ª–∏–∑–∞
}
```

---

### –ß–∞—Ç —Å AI

#### `POST /api/astrology/chat`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ß–∞—Ç —Å AI –∞—Å—Ç—Ä–æ–ª–æ–≥–æ–º (Oracle)

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```typescript
{
  history: { role: 'user' | 'model', text: string }[],
  message: string,
  profile: UserProfile,
  systemInstruction: string
}
```

**–û—Ç–≤–µ—Ç:**
```typescript
{
  response: string
}
```

---

## üñ•Ô∏è –§–†–û–ù–¢–ï–ù–î –ö–û–ú–ü–û–ù–ï–ù–¢–´

### –ì–ª–∞–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç: `App.tsx`

**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å:**
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (profile, chartData, view)
- Routing –º–µ–∂–¥—É —ç–∫—Ä–∞–Ω–∞–º–∏ (view state machine)
- –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
- –û–±—Ä–∞–±–æ—Ç–∫–∞ onboarding flow
- Premium gating

**States:**
```typescript
type ViewState = 
  | 'onboarding'   // –§–æ—Ä–º–∞ –≤–≤–æ–¥–∞ –¥–∞–Ω–Ω—ã—Ö
  | 'hook'         // –ü–æ–∫–∞–∑ "–¢—Ä–µ—Ö –∫–ª—é—á–µ–π"
  | 'paywall'      // –≠–∫—Ä–∞–Ω –ø–æ–∫—É–ø–∫–∏ –ø—Ä–µ–º–∏—É–º
  | 'dashboard'    // –ì–ª–∞–≤–Ω—ã–π —Ö–∞–±
  | 'chart'        // –ù–∞—Ç–∞–ª—å–Ω–∞—è –∫–∞—Ä—Ç–∞
  | 'horoscope'    // –ì–æ—Ä–æ—Å–∫–æ–ø—ã
  | 'synastry'     // –°–∏–Ω–∞—Å—Ç—Ä–∏—è
  | 'oracle'       // –ß–∞—Ç —Å AI (–ø—Ä–µ–º–∏—É–º)
  | 'settings'     // –ù–∞—Å—Ç—Ä–æ–π–∫–∏
  | 'admin';       // –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å
```

**Flow:**
```
Onboarding ‚Üí Hook ‚Üí Dashboard
                      ‚Üì
         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
         ‚Üì            ‚Üì            ‚Üì
      Chart      Horoscope    Synastry
         ‚Üì            ‚Üì            ‚Üì
      Settings     Oracle      Admin
```

---

### Views (—ç–∫—Ä–∞–Ω—ã)

#### `Onboarding.tsx`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –§–æ—Ä–º–∞ –≤–≤–æ–¥–∞ –¥–∞–Ω–Ω—ã—Ö —Ä–æ–∂–¥–µ–Ω–∏—è

**–ü–æ–ª—è:**
- –ò–º—è
- –î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è (date picker)
- –í—Ä–µ–º—è —Ä–æ–∂–¥–µ–Ω–∏—è (time picker)
- –ú–µ—Å—Ç–æ —Ä–æ–∂–¥–µ–Ω–∏—è (text input)
- –Ø–∑—ã–∫ (ru/en)
- –ß–µ–∫–±–æ–∫—Å "–ó–∞–ø–æ–º–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ" (isSetup)

**–í–∞–ª–∏–¥–∞—Ü–∏—è:**
- –í—Å–µ –ø–æ–ª—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã
- –î–∞—Ç–∞ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤ –±—É–¥—É—â–µ–º
- –î–∞—Ç–∞ –Ω–µ —Ä–∞–Ω—å—à–µ 1900 –≥–æ–¥–∞
- –í—Ä–µ–º—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ HH:MM (24h)
- –ú–µ—Å—Ç–æ –º–∏–Ω–∏–º—É–º 2 —Å–∏–º–≤–æ–ª–∞

**Flow:**
```
User fills form ‚Üí Validation ‚Üí handleOnboardingComplete()
                                      ‚Üì
                            Calculate natal chart
                                      ‚Üì
                            Generate all content
                                      ‚Üì
                            Save to DB ‚Üí Show HookChat
```

#### `HookChat.tsx`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–∫–∞–∑ "–¢—Ä–µ—Ö –∫–ª—é—á–µ–π" –≤ —Ñ–æ—Ä–º–∞—Ç–µ —á–∞—Ç–∞

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –¢–∏–ø–∏—Ä—É—é—â–∞—è –∞–Ω–∏–º–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ –æ–¥–Ω–æ–º—É –∫–ª—é—á—É —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π
- –ö–Ω–æ–ø–∫–∞ "–£–∑–Ω–∞—Ç—å –±–æ–ª—å—à–µ" ‚Üí Dashboard

**–¶–µ–ª—å:** –í–æ–≤–ª–µ—á–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Ü–µ–Ω–Ω–æ—Å—Ç–∏

#### `Dashboard.tsx`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ì–ª–∞–≤–Ω—ã–π —Ö–∞–± –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

**–°–µ–∫—Ü–∏–∏:**
1. **Cosmic Passport** (–ö–æ—Å–º–∏—á–µ—Å–∫–∏–π –ø–∞—Å–ø–æ—Ä—Ç)
   - –ò–º—è
   - –ó–Ω–∞–∫ –∑–æ–¥–∏–∞–∫–∞ (Sun)
   - –≠–ª–µ–º–µ–Ω—Ç
   - –£–ø—Ä–∞–≤–ª—è—é—â–∞—è –ø–ª–∞–Ω–µ—Ç–∞

2. **–í–∏–¥–∂–µ—Ç –ø–æ–≥–æ–¥—ã**
   - –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞
   - –£—Å–ª–æ–≤–∏—è
   - –§–∞–∑–∞ –ª—É–Ω—ã
   - –ì–æ—Ä–æ–¥ (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –≤ Settings)

3. **Three Keys** (–¢—Ä–∏ –∫–ª—é—á–∞)
   - –≠–Ω–µ—Ä–≥–∏—è
   - –õ—é–±–æ–≤—å
   - –ö–∞—Ä—å–µ—Ä–∞

4. **Soul Evolution** (–≠–≤–æ–ª—é—Ü–∏—è –¥—É—à–∏)
   - –£—Ä–æ–≤–µ–Ω—å
   - –ù–∞–∑–≤–∞–Ω–∏–µ —É—Ä–æ–≤–Ω—è
   - –°—Ç–∞—Ç—ã (–∏–Ω—Ç—É–∏—Ü–∏—è, —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å, –æ—Å–æ–∑–Ω–∞–Ω–Ω–æ—Å—Ç—å)

5. **–ú–µ–Ω—é –Ω–∞–≤–∏–≥–∞—Ü–∏–∏**
   - –ù–∞—Ç–∞–ª—å–Ω–∞—è –∫–∞—Ä—Ç–∞
   - –ú–æ–π –ø—Ä–æ–≥–Ω–æ–∑
   - –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å
   - –õ–∏—á–Ω—ã–π –æ—Ä–∞–∫—É–ª (–ø—Ä–µ–º–∏—É–º)

**–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:**
- `useRef` –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
- Lazy loading –≤–∏–¥–∂–µ—Ç–æ–≤
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- –ú–µ–º–æ–∏–∑–∞—Ü–∏—è —Ç—è–∂–µ–ª—ã—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π

#### `NatalChart.tsx`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü–æ–ª–Ω–∞—è –Ω–∞—Ç–∞–ª—å–Ω–∞—è –∫–∞—Ä—Ç–∞

**–°–µ–∫—Ü–∏–∏:**
1. **Summary** (–ü–æ—Ä—Ç—Ä–µ—Ç –ª–∏—á–Ω–æ—Å—Ç–∏) - –¥–æ—Å—Ç—É–ø–µ–Ω –≤—Å–µ–º
2. **Deep Dive** (–ì–ª—É–±–æ–∫–∏–π –∞–Ω–∞–ª–∏–∑) - –ø—Ä–µ–º–∏—É–º
   - –õ–∏—á–Ω–æ—Å—Ç—å –∏ —Å—É–¥—å–±–∞
   - –õ—é–±–æ–≤—å –∏ –æ—Ç–Ω–æ—à–µ–Ω–∏—è
   - –ö–∞—Ä—å–µ—Ä–∞ –∏ —Ñ–∏–Ω–∞–Ω—Å—ã
   - –°–ª–∞–±—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã –∏ –∑–æ–Ω—ã —Ä–æ—Å—Ç–∞
   - –ö–∞—Ä–º–∏—á–µ—Å–∫–∞—è –∑–∞–¥–∞—á–∞

**Premium gating:** Deep Dive —Å–µ–∫—Ü–∏–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –ø—Ä–µ–≤—å—é + –∫–Ω–æ–ø–∫—É "–û—Ç–∫—Ä—ã—Ç—å"

#### `Horoscope.tsx`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ì–æ—Ä–æ—Å–∫–æ–ø—ã (–¥–µ–Ω—å/–Ω–µ–¥–µ–ª—è/–º–µ—Å—è—Ü)

**–¢–∞–±—ã:**
- –ù–∞ —Å–µ–≥–æ–¥–Ω—è
- –ù–∞ –Ω–µ–¥–µ–ª—é
- –ù–∞ –º–µ—Å—è—Ü

**–ò—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö:**
- `profile.generatedContent.dailyHoroscope`
- `profile.generatedContent.weeklyHoroscope`
- `profile.generatedContent.monthlyHoroscope`

**–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ:**
- Daily: –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 00:01 –ú–°–ö
- Weekly: —Ä–∞–∑ –≤ –Ω–µ–¥–µ–ª—é
- Monthly: —Ä–∞–∑ –≤ –º–µ—Å—è—Ü

#### `Synastry.tsx`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ê–Ω–∞–ª–∏–∑ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å –ø–∞—Ä—Ç–Ω–µ—Ä–æ–º

**–†–µ–∂–∏–º—ã:**
1. **Brief** (–∫—Ä–∞—Ç–∫–∏–π) - –±–µ—Å–ø–ª–∞—Ç–Ω–æ –¥–ª—è –≤—Å–µ—Ö
2. **Full** (–ø–æ–ª–Ω—ã–π) - —Ç–æ–ª—å–∫–æ –¥–ª—è –ø—Ä–µ–º–∏—É–º

**–§–æ—Ä–º–∞ –≤–≤–æ–¥–∞:**
- –ò–º—è –ø–∞—Ä—Ç–Ω–µ—Ä–∞
- –î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è
- –í—Ä–µ–º—è —Ä–æ–∂–¥–µ–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- –ú–µ—Å—Ç–æ —Ä–æ–∂–¥–µ–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- –¢–∏–ø –æ—Ç–Ω–æ—à–µ–Ω–∏–π

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –í—Å—Ç—É–ø–ª–µ–Ω–∏–µ
- –ì–∞—Ä–º–æ–Ω–∏—è
- –í—ã–∑–æ–≤—ã
- –°–æ–≤–µ—Ç—ã
- (–î–ª—è –ø—Ä–µ–º–∏—É–º: –≥–ª—É–±–æ–∫–∏–π —Ä–∞–∑–±–æ—Ä)

**–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ:** –ü–æ –∫–ª—é—á—É `partnerName_partnerDate`

#### `OracleChat.tsx`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ß–∞—Ç —Å AI –∞—Å—Ç—Ä–æ–ª–æ–≥–æ–º (–ø—Ä–µ–º–∏—É–º)

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ò—Å—Ç–æ—Ä–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π
- Streaming responses (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- –ö–æ–Ω—Ç–µ–∫—Å—Ç –Ω–∞—Ç–∞–ª—å–Ω–æ–π –∫–∞—Ä—Ç—ã
- System instruction: SYSTEM_PROMPT_ASTRA

**Premium:** –î–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ –¥–ª—è premium –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

#### `Settings.tsx`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ—Ñ–∏–ª—è

**–°–µ–∫—Ü–∏–∏:**
1. **–ü—Ä–æ—Ñ–∏–ª—å**
   - –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Ä–æ–∂–¥–µ–Ω–∏—è
   - –ò–º—è

2. **–Ø–∑—ã–∫**
   - –†—É—Å—Å–∫–∏–π / English

3. **–¢–µ–º–∞**
   - Dark / Light

4. **–ü–æ–≥–æ–¥–∞**
   - –í—ã–±–æ—Ä –≥–æ—Ä–æ–¥–∞
   - –í–∞–ª–∏–¥–∞—Ü–∏—è —á–µ—Ä–µ–∑ WeatherAPI

5. **–ü–æ–¥–ø–∏—Å–∫–∞**
   - –°—Ç–∞—Ç—É—Å (Free/Premium)
   - –ö–Ω–æ–ø–∫–∞ –ø–æ–∫—É–ø–∫–∏

6. **–ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å** (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–æ–≤)

**–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ:** –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ë–î

#### `Paywall.tsx`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –≠–∫—Ä–∞–Ω –ø–æ–∫—É–ø–∫–∏ –ø—Ä–µ–º–∏—É–º –ø–æ–¥–ø–∏—Å–∫–∏

**–§–∏—á–∏:**
- –ü–æ–ª–Ω—ã–π –∞–Ω–∞–ª–∏–∑
- –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –ø—Ä–æ–≥–Ω–æ–∑
- –ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π –æ –ø–ª–∞–Ω–µ—Ç–∞—Ö
- –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å (–ø–æ–ª–Ω–∞—è)
- –ß–∞—Ç —Å AI

**–¶–µ–Ω–∞:** 250 Telegram Stars

**–ü–ª–∞—Ç–µ–∂:** –ß–µ—Ä–µ–∑ Telegram Stars API

#### `AdminPanel.tsx`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–æ–≤)

**–§—É–Ω–∫—Ü–∏–∏:**
- –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ü—Ä–æ—Å–º–æ—Ç—Ä –ø—Ä–æ—Ñ–∏–ª–µ–π
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–µ–º–∏—É–º —Å—Ç–∞—Ç—É—Å–æ–º
- –£–¥–∞–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

**–î–æ—Å—Ç—É–ø:** `profile.isAdmin === true` –∏–ª–∏ `OWNER_ID`

---

## üõ†Ô∏è –°–ï–†–í–ò–°–´

### `astrologyService.ts`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** API –≤—ã–∑–æ–≤—ã –¥–ª—è –∞—Å—Ç—Ä–æ–ª–æ–≥–∏—á–µ—Å–∫–∏—Ö —Ä–∞—Å—á–µ—Ç–æ–≤

**–§—É–Ω–∫—Ü–∏–∏:**

```typescript
// –†–∞—Å—á–µ—Ç –Ω–∞—Ç–∞–ª—å–Ω–æ–π –∫–∞—Ä—Ç—ã
calculateNatalChart(profile: UserProfile): Promise<NatalChartData>

// –¢—Ä–∏ –∫–ª—é—á–∞
getThreeKeys(profile: UserProfile, chartData: NatalChartData): Promise<ThreeKeys>

// –ì–æ—Ä–æ—Å–∫–æ–ø—ã
getDailyHoroscope(profile, chartData, context?): Promise<DailyHoroscope>
getWeeklyHoroscope(...)
getMonthlyHoroscope(...)

// –°–∏–Ω–∞—Å—Ç—Ä–∏—è
calculateBriefSynastry(...): Promise<SynastryResult>
calculateFullSynastry(...): Promise<SynastryResult>

// Deep Dive
getDeepDiveAnalysis(profile, topic, chartData): Promise<string>

// –ß–∞—Ç —Å AI
chatWithAstra(history, message, profile): Promise<string>

// –≠–≤–æ–ª—é—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
updateUserEvolution(profile, chartData?): Promise<UserEvolution>
```

**–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:**
- Try-catch –±–ª–æ–∫–∏
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- –ü–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
- Fallback –Ω–∞ —à–∞–±–ª–æ–Ω—ã (–¥–ª—è –Ω–µ–∫—Ä–∏—Ç–∏—á–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π)

---

### `contentGenerationService.ts`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π –∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∫–æ–Ω—Ç–µ–Ω—Ç–∞

**–§—É–Ω–∫—Ü–∏–∏:**

```typescript
// –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –í–°–ï–ì–û –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –≤—Ö–æ–¥–µ
generateAllContent(profile, chartData): Promise<UserGeneratedContent>

// –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
shouldUpdateContent(timestamps, contentType): boolean

// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é
updateContentIfNeeded(profile, chartData): Promise<UserGeneratedContent>

// –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–ª–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–∏–ø–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
getOrGenerateDeepDive(profile, chartData, topic): Promise<string>
getOrGenerateHoroscope(profile, chartData): Promise<DailyHoroscope>
getOrGenerateSynastry(profile, partner, mode): Promise<SynastryResult>
```

**–õ–æ–≥–∏–∫–∞ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è:**
1. **–ù–∞—Ç–∞–ª—å–Ω–∞—è –∫–∞—Ä—Ç–∞ (Three Keys, Deep Dive)** - –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –û–î–ò–ù –†–ê–ó
2. **–ì–æ—Ä–æ—Å–∫–æ–ø—ã** - –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é
3. **–°–∏–Ω–∞—Å—Ç—Ä–∏–∏** - –∫—ç—à–∏—Ä—É—é—Ç—Å—è –ø–æ –ø–∞—Ä—Ç–Ω–µ—Ä–∞–º

**–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:**
- Daily horoscope: –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 00:01 –ú–°–ö
- Weekly horoscope: –∫–∞–∂–¥—É—é –Ω–µ–¥–µ–ª—é (–ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫ 00:01)
- Monthly horoscope: –∫–∞–∂–¥—ã–π –º–µ—Å—è—Ü (1 —á–∏—Å–ª–æ 00:01)

---

### `contextService.ts`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ (–ø–æ–≥–æ–¥–∞, –ª—É–Ω–∞)

**–§—É–Ω–∫—Ü–∏–∏:**

```typescript
// –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–≥–æ–¥—ã –ø–æ –≥–æ—Ä–æ–¥—É
getWeatherContext(city: string): Promise<WeatherData>

// –ü–æ–ª—É—á–µ–Ω–∏–µ —Ñ–∞–∑—ã –ª—É–Ω—ã
getMoonPhase(date?: Date): Promise<MoonPhase>

// –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç
getFullContext(profile: UserProfile): Promise<UserContext>
```

**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:**
- WeatherAPI.com (–ø–æ–≥–æ–¥–∞)
- –†–∞—Å—á–µ—Ç —Ñ–∞–∑—ã –ª—É–Ω—ã (–≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Ñ—É–Ω–∫—Ü–∏—è)

---

### `storageService.ts`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –†–∞–±–æ—Ç–∞ —Å —Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ API

**–§—É–Ω–∫—Ü–∏–∏:**

```typescript
// –ü—Ä–æ—Ñ–∏–ª—å
saveProfile(profile: UserProfile): Promise<void>
getProfile(): Promise<UserProfile | null>

// –ù–∞—Ç–∞–ª—å–Ω–∞—è –∫–∞—Ä—Ç–∞
saveChartData(data: NatalChartData): Promise<void>
getChartData(): Promise<NatalChartData | null>

// –í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (–¥–ª—è –∞–¥–º–∏–Ω–æ–≤)
getAllUsers(): Promise<UserProfile[]>
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∏–¥—É—Ç —á–µ—Ä–µ–∑ Next.js API routes
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ Telegram user ID
- –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

---

### `telegramService.ts`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram WebApp

**–§—É–Ω–∫—Ü–∏–∏:**

```typescript
// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram WebApp
initTelegramWebApp(): void

// –ó–∞–ø—Ä–æ—Å –ø–ª–∞—Ç–µ–∂–∞ (Telegram Stars)
requestStarsPayment(profile: UserProfile): Promise<boolean>

// –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –ø–ª–∞—Ç–µ–∂–∞
checkPaymentStatus(invoiceId: string): Promise<boolean>
```

**Telegram Stars API:**
- –¶–µ–Ω–∞: 250 stars
- –í–∞–ª—é—Ç–∞: XTR
- Title: "Premium Astrologer"

---

## üíæ –°–ò–°–¢–ï–ú–ê –ö–≠–®–ò–†–û–í–ê–ù–ò–Ø

### –£—Ä–æ–≤–Ω–∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                   LEVEL 1: Client                   ‚îÇ
‚îÇ         (React state + profile.generatedContent)     ‚îÇ
‚îÇ  ‚úì Fastest (instant)                                 ‚îÇ
‚îÇ  ‚úì Used for: Current session data                   ‚îÇ
‚îÇ  ‚úó Lost on page reload                               ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                       ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ           LEVEL 2: User-specific (PostgreSQL)       ‚îÇ
‚îÇ         (users.generated_content + charts)          ‚îÇ
‚îÇ  ‚úì Persistent                                        ‚îÇ
‚îÇ  ‚úì Used for: All user's personal data               ‚îÇ
‚îÇ  ‚úó Requires DB query                                 ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                       ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ        LEVEL 3: Global cache (PostgreSQL)           ‚îÇ
‚îÇ         (daily_horoscopes_cache by zodiac sign)     ‚îÇ
‚îÇ  ‚úì Shared between users of same zodiac sign         ‚îÇ
‚îÇ  ‚úì Reduces AI requests by 12x (one per sign/day)    ‚îÇ
‚îÇ  ‚úó Requires DB query                                 ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –ß—Ç–æ –∫—ç—à–∏—Ä—É–µ—Ç—Å—è –∏ –∫–∞–∫ –¥–æ–ª–≥–æ

| –¢–∏–ø –∫–æ–Ω—Ç–µ–Ω—Ç–∞ | –ì–¥–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è | –ö–∞–∫ –¥–æ–ª–≥–æ | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ |
|--------------|--------------|-----------|------------|
| **–ù–∞—Ç–∞–ª—å–Ω–∞—è –∫–∞—Ä—Ç–∞** | `charts` table | –ù–∞–≤—Å–µ–≥–¥–∞ | –ù–∏–∫–æ–≥–¥–∞ (—Å—Ç–∞—Ç–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ) |
| **Three Keys** | `users.generated_content` | –ù–∞–≤—Å–µ–≥–¥–∞ | –¢–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ –ø–ª–∞—Ç–Ω—É—é —Ä–µ–≥–µ–Ω–µ—Ä–∞—Ü–∏—é |
| **Deep Dive (5 —Å–µ–∫—Ü–∏–π)** | `users.generated_content` | –ù–∞–≤—Å–µ–≥–¥–∞ | –¢–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ –ø–ª–∞—Ç–Ω—É—é —Ä–µ–≥–µ–Ω–µ—Ä–∞—Ü–∏—é |
| **Daily Horoscope** | `users.generated_content` + `daily_horoscopes_cache` | –î–æ –∫–æ–Ω—Ü–∞ –¥–Ω—è | –ö–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 00:01 –ú–°–ö |
| **Weekly Horoscope** | `users.generated_content` | –î–æ –∫–æ–Ω—Ü–∞ –Ω–µ–¥–µ–ª–∏ | –ö–∞–∂–¥—ã–π –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫ |
| **Monthly Horoscope** | `users.generated_content` | –î–æ –∫–æ–Ω—Ü–∞ –º–µ—Å—è—Ü–∞ | 1 —á–∏—Å–ª–æ –∫–∞–∂–¥–æ–≥–æ –º–µ—Å—è—Ü–∞ |
| **Synastry** | `users.generated_content.synastries` + `synastry_cache` | –ù–∞–≤—Å–µ–≥–¥–∞ | –ü—Ä–∏ —Å–º–µ–Ω–µ –ø–∞—Ä—Ç–Ω–µ—Ä–∞ |
| **Weather** | In-memory | 1 —á–∞—Å | –ü—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ –µ—Å–ª–∏ —É—Å—Ç–∞—Ä–µ–ª |

### –°—Ç—Ä–∞—Ç–µ–≥–∏—è –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∫—ç—à–∞

1. **–ù–∞—Ç–∞–ª—å–Ω–∞—è –∫–∞—Ä—Ç–∞:** –ù–µ –∏–Ω–≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç—Å—è (—Å—Ç–∞—Ç–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ)
2. **Three Keys:** –ù–µ –∏–Ω–≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (—Ç–æ–ª—å–∫–æ –ø–ª–∞—Ç–Ω–∞—è —Ä–µ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è)
3. **–ì–æ—Ä–æ—Å–∫–æ–ø—ã:** –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ –¥–∞—Ç–µ/–≤—Ä–µ–º–µ–Ω–∏
4. **–°–∏–Ω–∞—Å—Ç—Ä–∏–∏:** –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ –∫–ª—é—á—É `partnerName_partnerDate`

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ OpenAI

**–î–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ (–∫–∞–∂–¥—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å):**
- Daily horoscope: 1 –∑–∞–ø—Ä–æ—Å/–¥–µ–Ω—å/–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
- –î–ª—è 1000 –û–≤–Ω–æ–≤ = 1000 –∑–∞–ø—Ä–æ—Å–æ–≤/–¥–µ–Ω—å

**–ü–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ (–≥–ª–æ–±–∞–ª—å–Ω—ã–π –∫—ç—à):**
- Daily horoscope: 1 –∑–∞–ø—Ä–æ—Å/–¥–µ–Ω—å/–∑–Ω–∞–∫
- –î–ª—è 1000 –û–≤–Ω–æ–≤ = 1 –∑–∞–ø—Ä–æ—Å/–¥–µ–Ω—å
- **–≠–∫–æ–Ω–æ–º–∏—è: 999 –∑–∞–ø—Ä–æ—Å–æ–≤ (99.9%)**

---

## ‚ö†Ô∏è –ü–†–û–ë–õ–ï–ú–´ –ò –†–ò–°–ö–ò

### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

#### 1. ‚ùå Hardcoded OWNER_ID
**–§–∞–π–ª:** `App.tsx`, —Å—Ç—Ä–æ–∫–∞ 23
```typescript
const OWNER_ID = 123456789; 
```

**–ü—Ä–æ–±–ª–µ–º–∞:** ID –≤–ª–∞–¥–µ–ª—å—Ü–∞ –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω –≤ –∫–æ–¥–µ

**–†–∏—Å–∫–∏:**
- –†–∞—Å–∫—Ä—ã—Ç–∏–µ –ª–∏—á–Ω–æ–≥–æ Telegram ID
- –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏–∑–º–µ–Ω–∏—Ç—å –±–µ–∑ –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∏

**–†–µ—à–µ–Ω–∏–µ:**
```typescript
const OWNER_ID = process.env.NEXT_PUBLIC_OWNER_ID || '';
```

#### 2. ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ rate limiting
**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —á–∞—Å—Ç–æ—Ç—ã –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ API

**–†–∏—Å–∫–∏:**
- –ó–ª–æ—É–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ API
- –ü—Ä–µ–≤—ã—à–µ–Ω–∏–µ –ª–∏–º–∏—Ç–æ–≤ OpenAI
- –í—ã—Å–æ–∫–∏–µ –∑–∞—Ç—Ä–∞—Ç—ã

**–†–µ—à–µ–Ω–∏–µ:**
- –î–æ–±–∞–≤–∏—Ç—å middleware –¥–ª—è rate limiting
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Redis –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤
- –õ–∏–º–∏—Ç—ã: 10 –∑–∞–ø—Ä–æ—Å–æ–≤/–º–∏–Ω—É—Ç—É –¥–ª—è free, 100/–º–∏–Ω—É—Ç—É –¥–ª—è premium

#### 3. ‚ùå –ù–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ concurrent –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–π
**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –ø—Ä–æ—Ñ–∏–ª—è –∏–∑ —Ä–∞–∑–Ω—ã—Ö –≤–∫–ª–∞–¥–æ–∫ –º–æ–≥—É—Ç –±—ã—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã

**–†–∏—Å–∫–∏:**
- –ü–æ—Ç–µ—Ä—è –¥–∞–Ω–Ω—ã—Ö
- Race conditions

**–†–µ—à–µ–Ω–∏–µ:**
- –û–ø—Ç–∏–º–∏—Å—Ç–∏—á–µ—Å–∫–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ (version field)
- WebSocket –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è

#### 4. ‚ùå OpenAI API key –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
**–ü—Ä–æ–±–ª–µ–º–∞:** API key —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è –±–µ–∑ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è

**–†–∏—Å–∫–∏:**
- –£—Ç–µ—á–∫–∞ –∫–ª—é—á–∞ –ø—Ä–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–∏
- –î–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ process.env –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

**–†–µ—à–µ–Ω–∏–µ:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Railway Secrets
- –†–æ—Ç–∞—Ü–∏—è –∫–ª—é—á–µ–π
- Monitoring –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

---

### –°—Ä–µ–¥–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

#### 5. ‚ö†Ô∏è –ë–æ–ª—å—à–æ–π —Ä–∞–∑–º–µ—Ä `generated_content`
**–ü—Ä–æ–±–ª–µ–º–∞:** –ü–æ–ª–µ JSONB –º–æ–∂–µ—Ç —Å—Ç–∞—Ç—å –æ—á–µ–Ω—å –±–æ–ª—å—à–∏–º (5+ —Å–µ–∫—Ü–∏–π Deep Dive + —Å–∏–Ω–∞—Å—Ç—Ä–∏–∏)

**–†–∏—Å–∫–∏:**
- –ú–µ–¥–ª–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ –ë–î
- –ü—Ä–µ–≤—ã—à–µ–Ω–∏–µ –ª–∏–º–∏—Ç–æ–≤ JSONB (256 MB)

**–†–µ—à–µ–Ω–∏–µ:**
- –í—ã–Ω–µ—Å—Ç–∏ Deep Dive –≤ –æ—Ç–¥–µ–ª—å–Ω—É—é —Ç–∞–±–ª–∏—Ü—É
- Pagination –¥–ª—è —Å–∏–Ω–∞—Å—Ç—Ä–∏–π
- Compression –¥–ª—è JSON –¥–∞–Ω–Ω—ã—Ö

#### 6. ‚ö†Ô∏è –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ backup —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –±—ç–∫–∞–ø–∞ –ë–î

**–†–∏—Å–∫–∏:**
- –ü–æ—Ç–µ—Ä—è –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø—Ä–∏ —Å–±–æ–µ

**–†–µ—à–µ–Ω–∏–µ:**
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å automated backups –≤ Railway
- –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–π —ç–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö
- Point-in-time recovery

#### 7. ‚ö†Ô∏è –ù–µ—Ç –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ –∞–ª–µ—Ä—Ç–æ–≤
**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –æ—à–∏–±–æ–∫ –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

**–†–∏—Å–∫–∏:**
- –ù–µ–∑–∞–º–µ—á–µ–Ω–Ω—ã–µ —Å–±–æ–∏
- –ú–µ–¥–ª–µ–Ω–Ω–∞—è —Ä–µ–∞–∫—Ü–∏—è –Ω–∞ –ø—Ä–æ–±–ª–µ–º—ã

**–†–µ—à–µ–Ω–∏–µ:**
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Sentry (error tracking)
- Prometheus + Grafana (metrics)
- –ê–ª–µ—Ä—Ç—ã –≤ Telegram

#### 8. ‚ö†Ô∏è –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ç–µ—Å—Ç–æ–≤
**–ü—Ä–æ–±–ª–µ–º–∞:** –ï—Å—Ç—å —Ç–æ–ª—å–∫–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ unit —Ç–µ—Å—Ç–æ–≤, –Ω–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö

**–†–∏—Å–∫–∏:**
- –†–µ–≥—Ä–µ—Å—Å–∏–∏ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö
- –°–ª–æ–∂–Ω–æ—Å—Ç—å —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞

**–†–µ—à–µ–Ω–∏–µ:**
- –ù–∞–ø–∏—Å–∞—Ç—å unit —Ç–µ—Å—Ç—ã –¥–ª—è —Å–µ—Ä–≤–∏—Å–æ–≤
- Integration tests –¥–ª—è API endpoints
- E2E —Ç–µ—Å—Ç—ã –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö —Ñ–ª–æ—É

---

### –ù–µ–∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

#### 9. ‚ÑπÔ∏è –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
**–ü—Ä–æ–±–ª–µ–º–∞:** `three_keys` –¥—É–±–ª–∏—Ä—É–µ—Ç—Å—è –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –ø–æ–ª–µ –∏ –≤ `generated_content`

**–†–∏—Å–∫–∏:**
- –†–∞—Å—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
- –õ–∏—à–Ω–∏–π —Ä–∞—Å—Ö–æ–¥ –º–µ—Å—Ç–∞

**–†–µ—à–µ–Ω–∏–µ:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ `generated_content.threeKeys`
- –ú–∏–≥—Ä–∞—Ü–∏—è –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è —Å—Ç–∞—Ä–æ–≥–æ –ø–æ–ª—è

#### 10. ‚ÑπÔ∏è –ù–µ–æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã
**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ—Ç –∏–Ω–¥–µ–∫—Å–æ–≤ –Ω–∞ —á–∞—Å—Ç–æ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º—ã–µ –ø–æ–ª—è

**–†–∏—Å–∫–∏:**
- –ú–µ–¥–ª–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –ø—Ä–∏ —Ä–æ—Å—Ç–µ –ë–î

**–†–µ—à–µ–Ω–∏–µ:**
```sql
CREATE INDEX idx_users_is_premium ON users(is_premium);
CREATE INDEX idx_users_created_at ON users(created_at);
CREATE INDEX idx_daily_horoscopes_sign_date ON daily_horoscopes_cache(zodiac_sign, date);
```

#### 11. ‚ÑπÔ∏è –ö–æ–Ω—Å–æ–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
**–ü—Ä–æ–±–ª–µ–º–∞:** –õ–æ–≥–∏ –∏–¥—É—Ç —Ç–æ–ª—å–∫–æ –≤ console.log

**–†–∏—Å–∫–∏:**
- –ü–æ—Ç–µ—Ä—è –ª–æ–≥–æ–≤ –ø—Ä–∏ —Ä–µ—Å—Ç–∞—Ä—Ç–µ
- –°–ª–æ–∂–Ω–æ—Å—Ç—å –ø–æ–∏—Å–∫–∞

**–†–µ—à–µ–Ω–∏–µ:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (Winston/Pino)
- –û—Ç–ø—Ä–∞–≤–∫–∞ –ª–æ–≥–æ–≤ –≤ Loki/CloudWatch

#### 12. ‚ÑπÔ∏è –ù–µ –≤—Å–µ –ø—Ä–æ–º–ø—Ç—ã –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã
**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–æ–º–ø—Ç—ã –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã

**–†–∏—Å–∫–∏:**
- –õ–∏—à–Ω–∏–π —Ä–∞—Å—Ö–æ–¥ —Ç–æ–∫–µ–Ω–æ–≤ OpenAI
- –ú–µ–¥–ª–µ–Ω–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è

**–†–µ—à–µ–Ω–∏–µ:**
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ max_tokens –≤ –ø—Ä–æ–º–ø—Ç–∞—Ö
- A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–∑–Ω—ã—Ö –≤–µ—Ä—Å–∏–π –ø—Ä–æ–º–ø—Ç–æ–≤

---

## üìã –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò

### –°—Ä–æ—á–Ω—ã–µ (High Priority)

#### 1. üî¥ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

**–ó–∞–¥–∞—á–∏:**
1. –í—ã–Ω–µ—Å—Ç–∏ OWNER_ID –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
2. –î–æ–±–∞–≤–∏—Ç—å rate limiting –¥–ª—è –≤—Å–µ—Ö API endpoints
3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å CORS –ø—Ä–∞–≤–∏–ª—å–Ω–æ (—Ç–æ–ª—å–∫–æ Telegram origins)
4. –í–∫–ª—é—á–∏—Ç—å Railway Secrets –¥–ª—è API keys
5. –î–æ–±–∞–≤–∏—Ç—å CSP (Content Security Policy) headers

**–û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏:** 4-6 —á–∞—Å–æ–≤

#### 2. üî¥ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

**–ó–∞–¥–∞—á–∏:**
1. –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å Sentry –¥–ª—è error tracking
2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Ñ–∞–π–ª/—Å–µ—Ä–≤–∏—Å
3. –°–æ–∑–¥–∞—Ç—å dashboard —Å –º–µ—Ç—Ä–∏–∫–∞–º–∏ (Grafana)
4. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–ª–µ—Ä—Ç—ã –≤ Telegram bot

**–û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏:** 8-10 —á–∞—Å–æ–≤

#### 3. üî¥ Backup

**–ó–∞–¥–∞—á–∏:**
1. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å automated backups –≤ Railway (–µ–∂–µ–¥–Ω–µ–≤–Ω–æ)
2. –°–æ–∑–¥–∞—Ç—å —Å–∫—Ä–∏–ø—Ç –¥–ª—è manual backup
3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å restore –ø—Ä–æ—Ü–µ–¥—É—Ä—É

**–û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏:** 2-4 —á–∞—Å–∞

---

### –í–∞–∂–Ω—ã–µ (Medium Priority)

#### 4. üü° –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ë–î

**–ó–∞–¥–∞—á–∏:**
1. –î–æ–±–∞–≤–∏—Ç—å –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –∏–Ω–¥–µ–∫—Å—ã
2. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã —Å JSONB (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å jsonb_path_query)
3. –í–∫–ª—é—á–∏—Ç—å connection pooling
4. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å query timeout

**–û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏:** 6-8 —á–∞—Å–æ–≤

#### 5. üü° –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

**–ó–∞–¥–∞—á–∏:**
1. –í—ã–Ω–µ—Å—Ç–∏ Deep Dive –≤ –æ—Ç–¥–µ–ª—å–Ω—É—é —Ç–∞–±–ª–∏—Ü—É `deep_dive_analyses`
2. –£–¥–∞–ª–∏—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ three_keys
3. –ú–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
4. –û–±–Ω–æ–≤–∏—Ç—å API endpoints

**–û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏:** 10-12 —á–∞—Å–æ–≤

#### 6. üü° –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

**–ó–∞–¥–∞—á–∏:**
1. Unit —Ç–µ—Å—Ç—ã –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ (80%+ coverage)
2. Integration —Ç–µ—Å—Ç—ã –¥–ª—è API endpoints
3. E2E —Ç–µ—Å—Ç—ã –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö —Ñ–ª–æ—É (onboarding, payment)
4. Performance —Ç–µ—Å—Ç—ã –¥–ª—è –ë–î

**–û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏:** 20-30 —á–∞—Å–æ–≤

---

### –ñ–µ–ª–∞—Ç–µ–ª—å–Ω—ã–µ (Low Priority)

#### 7. üü¢ UX —É–ª—É—á—à–µ–Ω–∏—è

**–ó–∞–¥–∞—á–∏:**
1. –î–æ–±–∞–≤–∏—Ç—å skeleton loaders –≤–º–µ—Å—Ç–æ –æ–±—ã—á–Ω—ã—Ö loading
2. Optimistic UI updates (—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫)
3. Offline mode —Å Service Worker
4. Progressive Web App (PWA) manifest

**–û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏:** 12-16 —á–∞—Å–æ–≤

#### 8. üü¢ –ê–Ω–∞–ª–∏—Ç–∏–∫–∞

**–ó–∞–¥–∞—á–∏:**
1. –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å Mixpanel/Amplitude
2. –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∫–ª—é—á–µ–≤—ã—Ö —Å–æ–±—ã—Ç–∏–π (onboarding complete, premium purchase)
3. Funnel analysis
4. Cohort analysis

**–û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏:** 8-10 —á–∞—Å–æ–≤

#### 9. üü¢ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è AI

**–ó–∞–¥–∞—á–∏:**
1. –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —Å –±–æ–ª–µ–µ –¥–µ—à–µ–≤—ã–º–∏ –º–æ–¥–µ–ª—è–º–∏ (GPT-3.5-turbo)
2. –°–æ–∫—Ä–∞—Ç–∏—Ç—å –¥–ª–∏–Ω—É –ø—Ä–æ–º–ø—Ç–æ–≤
3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å function calling –¥–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤
4. –ö—ç—à–∏—Ä–æ–≤–∞—Ç—å common patterns

**–û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏:** 10-15 —á–∞—Å–æ–≤

---

## üéØ –û–ë–©–ò–ï –í–´–í–û–î–´

### –°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã ‚úÖ

1. **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:**
   - –ß–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ —Å–ª–æ–∏ (presentation, application, data)
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–æ–≤ –¥–ª—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏
   - –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º

2. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ:**
   - –ú–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
   - –ì–ª–æ–±–∞–ª—å–Ω—ã–π –∫—ç—à –¥–ª—è –≥–æ—Ä–æ—Å–∫–æ–ø–æ–≤ (—ç–∫–æ–Ω–æ–º–∏—è 99% –∑–∞–ø—Ä–æ—Å–æ–≤)
   - –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏–∏

3. **TypeScript:**
   - –ü–æ–ª–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è
   - –ß–µ—Ç–∫–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
   - Type safety –Ω–∞ –≤—Å–µ—Ö —É—Ä–æ–≤–Ω—è—Ö

4. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:**
   - –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å—Ö–µ–º–∞ —Å foreign keys
   - –°–∏—Å—Ç–µ–º–∞ –º–∏–≥—Ä–∞—Ü–∏–π
   - –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

5. **UX:**
   - –ü–ª–∞–≤–Ω—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏ (Framer Motion)
   - –ò–Ω—Ç—É–∏—Ç–∏–≤–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è
   - Premium gating –±–µ–∑ —Ä–∞–∑–¥—Ä–∞–∂–µ–Ω–∏—è

### –°–ª–∞–±—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã ‚ùå

1. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:**
   - Hardcoded credentials
   - –ù–µ—Ç rate limiting
   - –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

2. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:**
   - –ù–µ—Ç error tracking
   - –¢–æ–ª—å–∫–æ console.log –¥–ª—è –ª–æ–≥–æ–≤
   - –ù–µ—Ç –∞–ª–µ—Ä—Ç–æ–≤

3. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
   - –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏
   - –ù–µ—Ç integration/E2E —Ç–µ—Å—Ç–æ–≤

4. **Backup:**
   - –ù–µ—Ç automated backups
   - –ù–µ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω recovery

5. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:**
   - –ù–µ—Ç API documentation
   - –ú–∞–ª–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –≤ –∫–æ–¥–µ
   - –ù–µ—Ç runbook –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π

### –û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞: 7/10

**–ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ö–æ—Ä–æ—à–æ:**
- –ê—Å—Ç—Ä–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ —Ä–∞—Å—á–µ—Ç—ã (Swiss Ephemeris) ‚úÖ
- AI –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞ (OpenAI) ‚úÖ
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è ‚úÖ
- UX –∏ –¥–∏–∑–∞–π–Ω ‚úÖ

**–ß—Ç–æ –Ω—É–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å:**
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å üî¥
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ üî¥
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ üü°
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è üü°

---

## üìö –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –ú–ê–¢–ï–†–ò–ê–õ–´

### –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞
npm run dev                 # –ó–∞–ø—É—Å–∫ dev server

# –°–±–æ—Ä–∫–∞
npm run build              # Production build
npm run start              # –ó–∞–ø—É—Å–∫ production

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
npm test                   # –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
npm run test:watch         # Watch mode
npm run test:coverage      # Coverage report

# –ú–∏–≥—Ä–∞—Ü–∏–∏
npm run migrate            # –ó–∞–ø—É—Å–∫ –º–∏–≥—Ä–∞—Ü–∏–π
curl /api/migrations/run   # –ß–µ—Ä–µ–∑ API

# –ó–¥–æ—Ä–æ–≤—å–µ
curl /api/health           # Health check
```

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
# –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ
DATABASE_URL=postgresql://...    # Railway Database
OPENAI_API_KEY=sk-...           # OpenAI API

# –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ
EPHE_PATH=./ephe                # Swiss Ephemeris files
WEATHER_API=...                 # WeatherAPI.com key
NEXT_PUBLIC_API_URL=            # API base URL
NEXT_PUBLIC_OWNER_ID=           # Admin user ID
```

### –°—Å—ã–ª–∫–∏ –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

- [Next.js Docs](https://nextjs.org/docs)
- [PostgreSQL Docs](https://www.postgresql.org/docs/)
- [Swiss Ephemeris](https://www.astro.com/swisseph/)
- [OpenAI API](https://platform.openai.com/docs)
- [Telegram WebApp](https://core.telegram.org/bots/webapps)
- [Railway Docs](https://docs.railway.app/)

---

## üìù –ò–°–¢–û–†–ò–Ø –ò–ó–ú–ï–ù–ï–ù–ò–ô

### 2025-12-10: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è useEffect –≤ Dashboard
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- –£–ª—É—á—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –≤–∏–¥–∂–µ—Ç–∞ –ø–æ–≥–æ–¥—ã

### 2025-12-18: –ü–æ–ª–Ω—ã–π –∞—É–¥–∏—Ç
- –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
- –í—ã—è–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º –∏ —Ä–∏—Å–∫–æ–≤
- –°–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –ø–ª–∞–Ω–∞ —É–ª—É—á—à–µ–Ω–∏–π

---

**–ö–æ–Ω–µ—Ü –¥–æ–∫—É–º–µ–Ω—Ç–∞**

*–≠—Ç–æ—Ç –∞—É–¥–∏—Ç –±—ã–ª –ø—Ä–æ–≤–µ–¥–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä–æ–º –∫–æ–¥–∞.*
*–î–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤ –∏ —É—Ç–æ—á–Ω–µ–Ω–∏–π: —Å–æ–∑–¥–∞–π—Ç–µ issue –∏–ª–∏ —Å–≤—è–∂–∏—Ç–µ—Å—å —Å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–º.*
